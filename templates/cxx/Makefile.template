# C++ build targets

BUILD_DIR := build

.PHONY: build-cxx
build-cxx:
	@echo "Building C++ project with CMake..."
	@cmake -B $(BUILD_DIR) -DCMAKE_BUILD_TYPE=Release 2>/dev/null || echo "  (CMake not found)"
	@cmake --build $(BUILD_DIR) 2>/dev/null || true

.PHONY: test-cxx
test-cxx:
	@echo "Running C++ tests..."
	@cd $(BUILD_DIR) && ctest --output-on-failure 2>/dev/null || echo "  (no tests configured)"

.PHONY: clean-cxx
clean-cxx:
	@echo "Cleaning C++ build artifacts..."
	@rm -rf $(BUILD_DIR)

.PHONY: lint-cxx
lint-cxx:
	@echo "Linting C++ code..."
	@command -v clang-tidy >/dev/null 2>&1 && echo "  (run clang-tidy manually)" || echo "  (install clang-tidy)"
