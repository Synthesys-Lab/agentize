.PHONY: setup build clean test

setup:
	@echo "Generating setup.sh script..."
	@echo "#!/bin/bash" > setup.sh
	@echo "# Environment setup script for Python SDK" >> setup.sh
	@echo "# Generated by 'make setup'" >> setup.sh
	@echo "" >> setup.sh
	@echo "export SDK_ROOT=\"\$$(cd \"\$$(dirname \"\$$BASH_SOURCE\")\" && pwd)\"" >> setup.sh
	@echo "export PYTHONPATH=\"\$$SDK_ROOT:\$$PYTHONPATH\"" >> setup.sh
	@echo "" >> setup.sh
	@echo "echo \"SDK environment variables set:\"" >> setup.sh
	@echo "echo \"  SDK_ROOT=\$$SDK_ROOT\"" >> setup.sh
	@echo "echo \"  PYTHONPATH=\$$PYTHONPATH\"" >> setup.sh
	@chmod +x setup.sh
	@echo "setup.sh generated successfully"

build:
	@echo "No build needed for Python SDK"

clean:
	@echo "Cleaning Python cache files..."
	@find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
	@find . -type f -name "*.pyc" -delete 2>/dev/null || true
	@find . -type f -name "*.pyo" -delete 2>/dev/null || true
	@echo "Clean completed"

test:
	@echo "Running Python tests..."
	@python3 tests/test_main.py
